<?xml version="1.0" encoding="utf-8"?>
<ItemRenderer NPCType="CrystalTurret">
	<Data>
		<Sprite name="s_sprite" fileName="game/tiles_page17.rttex" textureSize="32" frame="8,9"/>
		<StateMachines>
			<StateMachine name="NPC" ServerOnly="true">
				<States start="Stationary">
					<NPCStationary name="Stationary"/>
					<NPCPlatformAttack name="AttackProjectile" ExitTime="1">
						<AttackSpeed>0</AttackSpeed>
						<ProjectileName>"CrystalTurretProjectile"</ProjectileName>
						<MinRangeToAttack>0</MinRangeToAttack>
					</NPCPlatformAttack>
					<NPCAnticipation name="Anticipation" ExitTime="0.5"/>
				</States>
				<Transitions>							
					<Transition to="Stationary" from="AttackProjectile">
						<Condition>
							<IsPlayerDistanceMatching operatorType="Greater">192</IsPlayerDistanceMatching>
						</Condition>
					</Transition>					
					<Transition to="Anticipation" from="AttackProjectile|Stationary">
						<Condition>
							<IsPlayerDistanceMatching operatorType="LessOrEqual">192</IsPlayerDistanceMatching>
						</Condition>
					</Transition>				
					<Transition to="AttackProjectile" from="Anticipation"/>
				</Transitions>
			</StateMachine>
		</StateMachines>
		<Animations>
			<SpriteAnimation name="a_sprite_static" animTime="100" sprite="s_sprite"  isLoop="true" autoPlay="false" playOnState="NPC.Stationary">
				<Frame>8, 9</Frame>
			</SpriteAnimation>						
			<SpriteAnimation name="a_sprite_ANTICIPATION" animTime="500" sprite="s_sprite"  isLoop="false" autoPlay="false" playOnState="NPC.Anticipation">
				<Frame>8, 9</Frame>
				<Frame>9, 9</Frame>
				<Frame>10, 9</Frame>
				<Frame>11, 9</Frame>
			</SpriteAnimation>
			<SpriteAnimation name="a_sprite_ATTACK" animTime="200" sprite="s_sprite"  isLoop="false" autoPlay="false" playOnState="NPC.AttackProjectile">
				<Frame>12, 9</Frame>
				<Frame>8, 9</Frame>
			</SpriteAnimation>
		</Animations>
		<Components>
			<Info/>
			<Enemy>
				<Set name="SoulsReward">0</Set>
				<Set name="destroyTileId">0</Set>
			</Enemy>
			<Movement/>
			<Damage>
				<Set name="damage">0</Set>
			</Damage>
			<StateMachine/>
			<NPCRenderActionCmp/>
			<CollisionBox>
				<Set name="size">32,32</Set>
				<Set name="CollisionFlag">"NO_COLLISION"</Set>
				<Set name="CollisionType">"NO_COLLISION"</Set>
			</CollisionBox>
			<DebugDraw/>
		</Components>
	</Data>
	<RenderRules>
		<Render>
			<SpriteRender name="s_sprite" blend="PREMULTIPLIED_ALPHA"/>
		</Render>
	</RenderRules>
</ItemRenderer>