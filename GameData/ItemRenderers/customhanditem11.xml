<?xml version="1.0" encoding="utf-8"?>
<ItemRenderer>
	<Data>
		<Sprite name="StaffSprite" fileName="game/firefly_longhand.rttex" textureSize="64,32" frame="1,3"/>
		<Sprite name="PunchSprite" fileName="game/firefly_particle.rttex" textureSize="32" frame="2,1"/>
		<Sprite name="TileSprite" fileName="game/particles.rttex" textureSize="32" frame="8,13"/>

		<ParticleSystems>
			<ParticleSystem name="TileHitParticle" updateStage="OnDamagedTile">
				<Emitter>
					<Random name="emissionInterval" min="0.05" max="0.1" />
					<Set name="infParticles">true</Set>
					<Set name="lifeTime">1.5</Set>
					<Set name="particlesPerEmission">1</Set>
				</Emitter>
				<Particle>
					<Set name="sprite">TileSprite</Set>
					<Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
					<Set name="lifeTime">0.6</Set>
					<Set name="initialVelocity">0,-32</Set>
					<Curve name="initialAlpha">
						<KeyFrame>0, 1</KeyFrame>
						<KeyFrame>0.5, 1</KeyFrame>
						<KeyFrame>1, 0</KeyFrame>
					</Curve>
					<Random name="initialScale" min="0.4" max="1.2" />
					<Random name="offset" min="-8, -7" max="8, 7" />
				</Particle>
			</ParticleSystem>
		</ParticleSystems>
	
		<TileStampData>
			<Set name="FileName">game/tiles_page1.rttex</Set>
			<Set name="EndFrame">0,16</Set>
			<Set name="FrameCount">1</Set>
		</TileStampData>

		<RenderOptions>
			<Default>
				<Set name="DefaultRenderMannequinHandItem">false</Set>
				<Set name="HideParticlesOnTransform">false</Set>
				<Set name="PunchSoundOverride">HAND</Set>
				<Set name="PlayDefaultPunchAudio">false</Set>
				<Set name="IgnoreDefaultDamagedTileEffect">true</Set>
				<Set name="RenderFrontArmInfected">true</Set>
				<Set name="RenderBackArmInfected">true</Set>
			</Default>
		</RenderOptions>
	</Data>

	<RenderRules>
		<Update>
			<StopIf>
				<IsZombified>true</IsZombified>
			</StopIf>
			<AvatarTransform class="ArmAngle" onAction="PUNCH">
				<Set name="armName">arm2Angle</Set>
				<Set name="armAngle">270</Set>
			</AvatarTransform>
		</Update>
		<RenderHandItem>
			<StopIf>
				<IsZombified>true</IsZombified>
			</StopIf>
			<SpriteRender name="StaffSprite" offset="7.3,7.3" rotationPoint="0, 1" alignment="CENTER" rotateOffset="true"  blend="PREMULTIPLIED_ALPHA"/>
			<SpriteRender name="PunchSprite" offset="0,-24.5" alignmentLeft="LEFT_CENTER" alignmentRight="RIGHT_CENTER" drawShadow="false" blend="ADDITIVE" stretchToTarget="true" onAction="PUNCH" tintOverride="72,186,236,255"/>
		</RenderHandItem>
		<OnPunchUpdate>
			<AvatarTransform class="Face">
				<Set name="face">MAD</Set>
			</AvatarTransform>
		</OnPunchUpdate>
	</RenderRules>
</ItemRenderer>